"""
Задание 1.

Вам нужно взять 5 любых скриптов, написанных ВАМИ в рамках работы над ДЗ
курсов Алгоритмы и Основы Python

На каждый скрипт нужно два решения - исходное и оптимизированное.

Вы берете исходное, пишете что это за задание и с какого оно курса.
Далее выполняете профилирование скрипта средствами memory_profiler

Вы оптимизируете исходное решение.
Далее выполняете профилирование скрипта средствами memory_profiler

Вам нужно написать аналитику, что вы сделали для оптимизации памяти и
чего добились.


ВНИМАНИЕ:
1) скрипты для оптимизации нужно брать только из сделанных вами ДЗ
курсов Алгоритмы и Основы
2) нельзя дублировать, коды, показанные на уроке
3) для каждого из 5 скриптов у вас отдельный файл, в нем должна быть версия до
и версия после оптимизации
4) желательно выбрать те скрипты, где есть что оптимизировать и не брать те,
где с памятью и так все в порядке
5) не нужно писать преподавателю '''я не могу найти что оптимизировать''', это
отговорки. Примеров оптимизации мы перечислили много: переход с массивов на
генераторы, numpy, использование слотов, применение del, сериализация и т.д.

Это файл для второго скрипта
"""
from memory_profiler import profile
from collections import Counter

# Основы. Урок 5. Задание 5
# Представлен список чисел. Определить элементы списка, не имеющие повторений.
# Сформировать из этих элементов список с сохранением порядка их следования в исходном
# списке, например:
# src = [2, 2, 2, 7, 23, 1, 44, 44, 3, 2, 10, 7, 4, 11]
# result = [23, 1, 3, 10, 4, 11]


src = [2, 2, 2, 7, 23, 1, 44, 44, 3, 10, 7, 4, 11] + list(range(1, 10000, 3)) + list(range(1, 10000, 6))


@profile
def test():
    duplicate_el = set()
    tmp = set()
    for num in src:
        duplicate_el.add(num) if num in tmp else tmp.add(num)

    result = [el for el in src if el not in duplicate_el]
    print(result)


test()


@profile
def test_2():
    tmp = Counter(src)
    print([key for key in tmp if tmp[key] == 1])


test_2()


"""
ИСХОДНОЕ РЕШЕНИЕ
[23, 3, 11, 16, 22, 28, 34, 40, 46, 52, 58, 64, 70, 76, 82, 88, 94, 100, 106, 112, 118, 124, 130, 136, 142, 148, 154, 160, 166, 172, 178, 184, 190, 196, 202, 208, 214, 220, 226, 232, 238, 244, 250, 256, 262, 268, 274, 280, 286, 292, 298, 304, 310, 316, 322, 328, 334, 340, 346, 352, 358, 364, 370, 376, 382, 388, 394, 400, 406, 412, 418, 424, 430, 436, 442, 448, 454, 460, 466, 472, 478, 484, 490, 496, 502, 508, 514, 520, 526, 532, 538, 544, 550, 556, 562, 568, 574, 580, 586, 592, 598, 604, 610, 616, 622, 628, 634, 640, 646, 652, 658, 664, 670, 676, 682, 688, 694, 700, 706, 712, 718, 724, 730, 736, 742, 748, 754, 760, 766, 772, 778, 784, 790, 796, 802, 808, 814, 820, 826, 832, 838, 844, 850, 856, 862, 868, 874, 880, 886, 892, 898, 904, 910, 916, 922, 928, 934, 940, 946, 952, 958, 964, 970, 976, 982, 988, 994, 1000, 1006, 1012, 1018, 1024, 1030, 1036, 1042, 1048, 1054, 1060, 1066, 1072, 1078, 1084, 1090, 1096, 1102, 1108, 1114, 1120, 1126, 1132, 1138, 1144, 1150, 1156, 1162, 1168, 1174, 1180, 1186, 1192, 1198, 1204, 1210, 1216, 1222, 1228, 1234, 1240, 1246, 1252, 1258, 1264, 1270, 1276, 1282, 1288, 1294, 1300, 1306, 1312, 1318, 1324, 1330, 1336, 1342, 1348, 1354, 1360, 1366, 1372, 1378, 1384, 1390, 1396, 1402, 1408, 1414, 1420, 1426, 1432, 1438, 1444, 1450, 1456, 1462, 1468, 1474, 1480, 1486, 1492, 1498, 1504, 1510, 1516, 1522, 1528, 1534, 1540, 1546, 1552, 1558, 1564, 1570, 1576, 1582, 1588, 1594, 1600, 1606, 1612, 1618, 1624, 1630, 1636, 1642, 1648, 1654, 1660, 1666, 1672, 1678, 1684, 1690, 1696, 1702, 1708, 1714, 1720, 1726, 1732, 1738, 1744, 1750, 1756, 1762, 1768, 1774, 1780, 1786, 1792, 1798, 1804, 1810, 1816, 1822, 1828, 1834, 1840, 1846, 1852, 1858, 1864, 1870, 1876, 1882, 1888, 1894, 1900, 1906, 1912, 1918, 1924, 1930, 1936, 1942, 1948, 1954, 1960, 1966, 1972, 1978, 1984, 1990, 1996, 2002, 2008, 2014, 2020, 2026, 2032, 2038, 2044, 2050, 2056, 2062, 2068, 2074, 2080, 2086, 2092, 2098, 2104, 2110, 2116, 2122, 2128, 2134, 2140, 2146, 2152, 2158, 2164, 2170, 2176, 2182, 2188, 2194, 2200, 2206, 2212, 2218, 2224, 2230, 2236, 2242, 2248, 2254, 2260, 2266, 2272, 2278, 2284, 2290, 2296, 2302, 2308, 2314, 2320, 2326, 2332, 2338, 2344, 2350, 2356, 2362, 2368, 2374, 2380, 2386, 2392, 2398, 2404, 2410, 2416, 2422, 2428, 2434, 2440, 2446, 2452, 2458, 2464, 2470, 2476, 2482, 2488, 2494, 2500, 2506, 2512, 2518, 2524, 2530, 2536, 2542, 2548, 2554, 2560, 2566, 2572, 2578, 2584, 2590, 2596, 2602, 2608, 2614, 2620, 2626, 2632, 2638, 2644, 2650, 2656, 2662, 2668, 2674, 2680, 2686, 2692, 2698, 2704, 2710, 2716, 2722, 2728, 2734, 2740, 2746, 2752, 2758, 2764, 2770, 2776, 2782, 2788, 2794, 2800, 2806, 2812, 2818, 2824, 2830, 2836, 2842, 2848, 2854, 2860, 2866, 2872, 2878, 2884, 2890, 2896, 2902, 2908, 2914, 2920, 2926, 2932, 2938, 2944, 2950, 2956, 2962, 2968, 2974, 2980, 2986, 2992, 2998, 3004, 3010, 3016, 3022, 3028, 3034, 3040, 3046, 3052, 3058, 3064, 3070, 3076, 3082, 3088, 3094, 3100, 3106, 3112, 3118, 3124, 3130, 3136, 3142, 3148, 3154, 3160, 3166, 3172, 3178, 3184, 3190, 3196, 3202, 3208, 3214, 3220, 3226, 3232, 3238, 3244, 3250, 3256, 3262, 3268, 3274, 3280, 3286, 3292, 3298, 3304, 3310, 3316, 3322, 3328, 3334, 3340, 3346, 3352, 3358, 3364, 3370, 3376, 3382, 3388, 3394, 3400, 3406, 3412, 3418, 3424, 3430, 3436, 3442, 3448, 3454, 3460, 3466, 3472, 3478, 3484, 3490, 3496, 3502, 3508, 3514, 3520, 3526, 3532, 3538, 3544, 3550, 3556, 3562, 3568, 3574, 3580, 3586, 3592, 3598, 3604, 3610, 3616, 3622, 3628, 3634, 3640, 3646, 3652, 3658, 3664, 3670, 3676, 3682, 3688, 3694, 3700, 3706, 3712, 3718, 3724, 3730, 3736, 3742, 3748, 3754, 3760, 3766, 3772, 3778, 3784, 3790, 3796, 3802, 3808, 3814, 3820, 3826, 3832, 3838, 3844, 3850, 3856, 3862, 3868, 3874, 3880, 3886, 3892, 3898, 3904, 3910, 3916, 3922, 3928, 3934, 3940, 3946, 3952, 3958, 3964, 3970, 3976, 3982, 3988, 3994, 4000, 4006, 4012, 4018, 4024, 4030, 4036, 4042, 4048, 4054, 4060, 4066, 4072, 4078, 4084, 4090, 4096, 4102, 4108, 4114, 4120, 4126, 4132, 4138, 4144, 4150, 4156, 4162, 4168, 4174, 4180, 4186, 4192, 4198, 4204, 4210, 4216, 4222, 4228, 4234, 4240, 4246, 4252, 4258, 4264, 4270, 4276, 4282, 4288, 4294, 4300, 4306, 4312, 4318, 4324, 4330, 4336, 4342, 4348, 4354, 4360, 4366, 4372, 4378, 4384, 4390, 4396, 4402, 4408, 4414, 4420, 4426, 4432, 4438, 4444, 4450, 4456, 4462, 4468, 4474, 4480, 4486, 4492, 4498, 4504, 4510, 4516, 4522, 4528, 4534, 4540, 4546, 4552, 4558, 4564, 4570, 4576, 4582, 4588, 4594, 4600, 4606, 4612, 4618, 4624, 4630, 4636, 4642, 4648, 4654, 4660, 4666, 4672, 4678, 4684, 4690, 4696, 4702, 4708, 4714, 4720, 4726, 4732, 4738, 4744, 4750, 4756, 4762, 4768, 4774, 4780, 4786, 4792, 4798, 4804, 4810, 4816, 4822, 4828, 4834, 4840, 4846, 4852, 4858, 4864, 4870, 4876, 4882, 4888, 4894, 4900, 4906, 4912, 4918, 4924, 4930, 4936, 4942, 4948, 4954, 4960, 4966, 4972, 4978, 4984, 4990, 4996, 5002, 5008, 5014, 5020, 5026, 5032, 5038, 5044, 5050, 5056, 5062, 5068, 5074, 5080, 5086, 5092, 5098, 5104, 5110, 5116, 5122, 5128, 5134, 5140, 5146, 5152, 5158, 5164, 5170, 5176, 5182, 5188, 5194, 5200, 5206, 5212, 5218, 5224, 5230, 5236, 5242, 5248, 5254, 5260, 5266, 5272, 5278, 5284, 5290, 5296, 5302, 5308, 5314, 5320, 5326, 5332, 5338, 5344, 5350, 5356, 5362, 5368, 5374, 5380, 5386, 5392, 5398, 5404, 5410, 5416, 5422, 5428, 5434, 5440, 5446, 5452, 5458, 5464, 5470, 5476, 5482, 5488, 5494, 5500, 5506, 5512, 5518, 5524, 5530, 5536, 5542, 5548, 5554, 5560, 5566, 5572, 5578, 5584, 5590, 5596, 5602, 5608, 5614, 5620, 5626, 5632, 5638, 5644, 5650, 5656, 5662, 5668, 5674, 5680, 5686, 5692, 5698, 5704, 5710, 5716, 5722, 5728, 5734, 5740, 5746, 5752, 5758, 5764, 5770, 5776, 5782, 5788, 5794, 5800, 5806, 5812, 5818, 5824, 5830, 5836, 5842, 5848, 5854, 5860, 5866, 5872, 5878, 5884, 5890, 5896, 5902, 5908, 5914, 5920, 5926, 5932, 5938, 5944, 5950, 5956, 5962, 5968, 5974, 5980, 5986, 5992, 5998, 6004, 6010, 6016, 6022, 6028, 6034, 6040, 6046, 6052, 6058, 6064, 6070, 6076, 6082, 6088, 6094, 6100, 6106, 6112, 6118, 6124, 6130, 6136, 6142, 6148, 6154, 6160, 6166, 6172, 6178, 6184, 6190, 6196, 6202, 6208, 6214, 6220, 6226, 6232, 6238, 6244, 6250, 6256, 6262, 6268, 6274, 6280, 6286, 6292, 6298, 6304, 6310, 6316, 6322, 6328, 6334, 6340, 6346, 6352, 6358, 6364, 6370, 6376, 6382, 6388, 6394, 6400, 6406, 6412, 6418, 6424, 6430, 6436, 6442, 6448, 6454, 6460, 6466, 6472, 6478, 6484, 6490, 6496, 6502, 6508, 6514, 6520, 6526, 6532, 6538, 6544, 6550, 6556, 6562, 6568, 6574, 6580, 6586, 6592, 6598, 6604, 6610, 6616, 6622, 6628, 6634, 6640, 6646, 6652, 6658, 6664, 6670, 6676, 6682, 6688, 6694, 6700, 6706, 6712, 6718, 6724, 6730, 6736, 6742, 6748, 6754, 6760, 6766, 6772, 6778, 6784, 6790, 6796, 6802, 6808, 6814, 6820, 6826, 6832, 6838, 6844, 6850, 6856, 6862, 6868, 6874, 6880, 6886, 6892, 6898, 6904, 6910, 6916, 6922, 6928, 6934, 6940, 6946, 6952, 6958, 6964, 6970, 6976, 6982, 6988, 6994, 7000, 7006, 7012, 7018, 7024, 7030, 7036, 7042, 7048, 7054, 7060, 7066, 7072, 7078, 7084, 7090, 7096, 7102, 7108, 7114, 7120, 7126, 7132, 7138, 7144, 7150, 7156, 7162, 7168, 7174, 7180, 7186, 7192, 7198, 7204, 7210, 7216, 7222, 7228, 7234, 7240, 7246, 7252, 7258, 7264, 7270, 7276, 7282, 7288, 7294, 7300, 7306, 7312, 7318, 7324, 7330, 7336, 7342, 7348, 7354, 7360, 7366, 7372, 7378, 7384, 7390, 7396, 7402, 7408, 7414, 7420, 7426, 7432, 7438, 7444, 7450, 7456, 7462, 7468, 7474, 7480, 7486, 7492, 7498, 7504, 7510, 7516, 7522, 7528, 7534, 7540, 7546, 7552, 7558, 7564, 7570, 7576, 7582, 7588, 7594, 7600, 7606, 7612, 7618, 7624, 7630, 7636, 7642, 7648, 7654, 7660, 7666, 7672, 7678, 7684, 7690, 7696, 7702, 7708, 7714, 7720, 7726, 7732, 7738, 7744, 7750, 7756, 7762, 7768, 7774, 7780, 7786, 7792, 7798, 7804, 7810, 7816, 7822, 7828, 7834, 7840, 7846, 7852, 7858, 7864, 7870, 7876, 7882, 7888, 7894, 7900, 7906, 7912, 7918, 7924, 7930, 7936, 7942, 7948, 7954, 7960, 7966, 7972, 7978, 7984, 7990, 7996, 8002, 8008, 8014, 8020, 8026, 8032, 8038, 8044, 8050, 8056, 8062, 8068, 8074, 8080, 8086, 8092, 8098, 8104, 8110, 8116, 8122, 8128, 8134, 8140, 8146, 8152, 8158, 8164, 8170, 8176, 8182, 8188, 8194, 8200, 8206, 8212, 8218, 8224, 8230, 8236, 8242, 8248, 8254, 8260, 8266, 8272, 8278, 8284, 8290, 8296, 8302, 8308, 8314, 8320, 8326, 8332, 8338, 8344, 8350, 8356, 8362, 8368, 8374, 8380, 8386, 8392, 8398, 8404, 8410, 8416, 8422, 8428, 8434, 8440, 8446, 8452, 8458, 8464, 8470, 8476, 8482, 8488, 8494, 8500, 8506, 8512, 8518, 8524, 8530, 8536, 8542, 8548, 8554, 8560, 8566, 8572, 8578, 8584, 8590, 8596, 8602, 8608, 8614, 8620, 8626, 8632, 8638, 8644, 8650, 8656, 8662, 8668, 8674, 8680, 8686, 8692, 8698, 8704, 8710, 8716, 8722, 8728, 8734, 8740, 8746, 8752, 8758, 8764, 8770, 8776, 8782, 8788, 8794, 8800, 8806, 8812, 8818, 8824, 8830, 8836, 8842, 8848, 8854, 8860, 8866, 8872, 8878, 8884, 8890, 8896, 8902, 8908, 8914, 8920, 8926, 8932, 8938, 8944, 8950, 8956, 8962, 8968, 8974, 8980, 8986, 8992, 8998, 9004, 9010, 9016, 9022, 9028, 9034, 9040, 9046, 9052, 9058, 9064, 9070, 9076, 9082, 9088, 9094, 9100, 9106, 9112, 9118, 9124, 9130, 9136, 9142, 9148, 9154, 9160, 9166, 9172, 9178, 9184, 9190, 9196, 9202, 9208, 9214, 9220, 9226, 9232, 9238, 9244, 9250, 9256, 9262, 9268, 9274, 9280, 9286, 9292, 9298, 9304, 9310, 9316, 9322, 9328, 9334, 9340, 9346, 9352, 9358, 9364, 9370, 9376, 9382, 9388, 9394, 9400, 9406, 9412, 9418, 9424, 9430, 9436, 9442, 9448, 9454, 9460, 9466, 9472, 9478, 9484, 9490, 9496, 9502, 9508, 9514, 9520, 9526, 9532, 9538, 9544, 9550, 9556, 9562, 9568, 9574, 9580, 9586, 9592, 9598, 9604, 9610, 9616, 9622, 9628, 9634, 9640, 9646, 9652, 9658, 9664, 9670, 9676, 9682, 9688, 9694, 9700, 9706, 9712, 9718, 9724, 9730, 9736, 9742, 9748, 9754, 9760, 9766, 9772, 9778, 9784, 9790, 9796, 9802, 9808, 9814, 9820, 9826, 9832, 9838, 9844, 9850, 9856, 9862, 9868, 9874, 9880, 9886, 9892, 9898, 9904, 9910, 9916, 9922, 9928, 9934, 9940, 9946, 9952, 9958, 9964, 9970, 9976, 9982, 9988, 9994]

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    47     19.5 MiB     19.5 MiB           1   @profile
    48                                         def test():
    49     19.5 MiB      0.0 MiB           1       duplicate_el = set()
    50     19.5 MiB      0.0 MiB           1       tmp = set()
    51     19.8 MiB      0.0 MiB        5014       for num in src:
    52     19.8 MiB      0.3 MiB        5013           duplicate_el.add(num) if num in tmp else tmp.add(num)
    53                                         
    54     19.8 MiB      0.0 MiB        5016       result = [el for el in src if el not in duplicate_el]
    55     19.8 MiB      0.0 MiB           1       print(result)


ОПТИМИЗИРОВАННОЕ РЕШЕНИЕ ЧЕРЕЗ COUNTER
[23, 3, 11, 16, 22, 28, 34, 40, 46, 52, 58, 64, 70, 76, 82, 88, 94, 100, 106, 112, 118, 124, 130, 136, 142, 148, 154, 160, 166, 172, 178, 184, 190, 196, 202, 208, 214, 220, 226, 232, 238, 244, 250, 256, 262, 268, 274, 280, 286, 292, 298, 304, 310, 316, 322, 328, 334, 340, 346, 352, 358, 364, 370, 376, 382, 388, 394, 400, 406, 412, 418, 424, 430, 436, 442, 448, 454, 460, 466, 472, 478, 484, 490, 496, 502, 508, 514, 520, 526, 532, 538, 544, 550, 556, 562, 568, 574, 580, 586, 592, 598, 604, 610, 616, 622, 628, 634, 640, 646, 652, 658, 664, 670, 676, 682, 688, 694, 700, 706, 712, 718, 724, 730, 736, 742, 748, 754, 760, 766, 772, 778, 784, 790, 796, 802, 808, 814, 820, 826, 832, 838, 844, 850, 856, 862, 868, 874, 880, 886, 892, 898, 904, 910, 916, 922, 928, 934, 940, 946, 952, 958, 964, 970, 976, 982, 988, 994, 1000, 1006, 1012, 1018, 1024, 1030, 1036, 1042, 1048, 1054, 1060, 1066, 1072, 1078, 1084, 1090, 1096, 1102, 1108, 1114, 1120, 1126, 1132, 1138, 1144, 1150, 1156, 1162, 1168, 1174, 1180, 1186, 1192, 1198, 1204, 1210, 1216, 1222, 1228, 1234, 1240, 1246, 1252, 1258, 1264, 1270, 1276, 1282, 1288, 1294, 1300, 1306, 1312, 1318, 1324, 1330, 1336, 1342, 1348, 1354, 1360, 1366, 1372, 1378, 1384, 1390, 1396, 1402, 1408, 1414, 1420, 1426, 1432, 1438, 1444, 1450, 1456, 1462, 1468, 1474, 1480, 1486, 1492, 1498, 1504, 1510, 1516, 1522, 1528, 1534, 1540, 1546, 1552, 1558, 1564, 1570, 1576, 1582, 1588, 1594, 1600, 1606, 1612, 1618, 1624, 1630, 1636, 1642, 1648, 1654, 1660, 1666, 1672, 1678, 1684, 1690, 1696, 1702, 1708, 1714, 1720, 1726, 1732, 1738, 1744, 1750, 1756, 1762, 1768, 1774, 1780, 1786, 1792, 1798, 1804, 1810, 1816, 1822, 1828, 1834, 1840, 1846, 1852, 1858, 1864, 1870, 1876, 1882, 1888, 1894, 1900, 1906, 1912, 1918, 1924, 1930, 1936, 1942, 1948, 1954, 1960, 1966, 1972, 1978, 1984, 1990, 1996, 2002, 2008, 2014, 2020, 2026, 2032, 2038, 2044, 2050, 2056, 2062, 2068, 2074, 2080, 2086, 2092, 2098, 2104, 2110, 2116, 2122, 2128, 2134, 2140, 2146, 2152, 2158, 2164, 2170, 2176, 2182, 2188, 2194, 2200, 2206, 2212, 2218, 2224, 2230, 2236, 2242, 2248, 2254, 2260, 2266, 2272, 2278, 2284, 2290, 2296, 2302, 2308, 2314, 2320, 2326, 2332, 2338, 2344, 2350, 2356, 2362, 2368, 2374, 2380, 2386, 2392, 2398, 2404, 2410, 2416, 2422, 2428, 2434, 2440, 2446, 2452, 2458, 2464, 2470, 2476, 2482, 2488, 2494, 2500, 2506, 2512, 2518, 2524, 2530, 2536, 2542, 2548, 2554, 2560, 2566, 2572, 2578, 2584, 2590, 2596, 2602, 2608, 2614, 2620, 2626, 2632, 2638, 2644, 2650, 2656, 2662, 2668, 2674, 2680, 2686, 2692, 2698, 2704, 2710, 2716, 2722, 2728, 2734, 2740, 2746, 2752, 2758, 2764, 2770, 2776, 2782, 2788, 2794, 2800, 2806, 2812, 2818, 2824, 2830, 2836, 2842, 2848, 2854, 2860, 2866, 2872, 2878, 2884, 2890, 2896, 2902, 2908, 2914, 2920, 2926, 2932, 2938, 2944, 2950, 2956, 2962, 2968, 2974, 2980, 2986, 2992, 2998, 3004, 3010, 3016, 3022, 3028, 3034, 3040, 3046, 3052, 3058, 3064, 3070, 3076, 3082, 3088, 3094, 3100, 3106, 3112, 3118, 3124, 3130, 3136, 3142, 3148, 3154, 3160, 3166, 3172, 3178, 3184, 3190, 3196, 3202, 3208, 3214, 3220, 3226, 3232, 3238, 3244, 3250, 3256, 3262, 3268, 3274, 3280, 3286, 3292, 3298, 3304, 3310, 3316, 3322, 3328, 3334, 3340, 3346, 3352, 3358, 3364, 3370, 3376, 3382, 3388, 3394, 3400, 3406, 3412, 3418, 3424, 3430, 3436, 3442, 3448, 3454, 3460, 3466, 3472, 3478, 3484, 3490, 3496, 3502, 3508, 3514, 3520, 3526, 3532, 3538, 3544, 3550, 3556, 3562, 3568, 3574, 3580, 3586, 3592, 3598, 3604, 3610, 3616, 3622, 3628, 3634, 3640, 3646, 3652, 3658, 3664, 3670, 3676, 3682, 3688, 3694, 3700, 3706, 3712, 3718, 3724, 3730, 3736, 3742, 3748, 3754, 3760, 3766, 3772, 3778, 3784, 3790, 3796, 3802, 3808, 3814, 3820, 3826, 3832, 3838, 3844, 3850, 3856, 3862, 3868, 3874, 3880, 3886, 3892, 3898, 3904, 3910, 3916, 3922, 3928, 3934, 3940, 3946, 3952, 3958, 3964, 3970, 3976, 3982, 3988, 3994, 4000, 4006, 4012, 4018, 4024, 4030, 4036, 4042, 4048, 4054, 4060, 4066, 4072, 4078, 4084, 4090, 4096, 4102, 4108, 4114, 4120, 4126, 4132, 4138, 4144, 4150, 4156, 4162, 4168, 4174, 4180, 4186, 4192, 4198, 4204, 4210, 4216, 4222, 4228, 4234, 4240, 4246, 4252, 4258, 4264, 4270, 4276, 4282, 4288, 4294, 4300, 4306, 4312, 4318, 4324, 4330, 4336, 4342, 4348, 4354, 4360, 4366, 4372, 4378, 4384, 4390, 4396, 4402, 4408, 4414, 4420, 4426, 4432, 4438, 4444, 4450, 4456, 4462, 4468, 4474, 4480, 4486, 4492, 4498, 4504, 4510, 4516, 4522, 4528, 4534, 4540, 4546, 4552, 4558, 4564, 4570, 4576, 4582, 4588, 4594, 4600, 4606, 4612, 4618, 4624, 4630, 4636, 4642, 4648, 4654, 4660, 4666, 4672, 4678, 4684, 4690, 4696, 4702, 4708, 4714, 4720, 4726, 4732, 4738, 4744, 4750, 4756, 4762, 4768, 4774, 4780, 4786, 4792, 4798, 4804, 4810, 4816, 4822, 4828, 4834, 4840, 4846, 4852, 4858, 4864, 4870, 4876, 4882, 4888, 4894, 4900, 4906, 4912, 4918, 4924, 4930, 4936, 4942, 4948, 4954, 4960, 4966, 4972, 4978, 4984, 4990, 4996, 5002, 5008, 5014, 5020, 5026, 5032, 5038, 5044, 5050, 5056, 5062, 5068, 5074, 5080, 5086, 5092, 5098, 5104, 5110, 5116, 5122, 5128, 5134, 5140, 5146, 5152, 5158, 5164, 5170, 5176, 5182, 5188, 5194, 5200, 5206, 5212, 5218, 5224, 5230, 5236, 5242, 5248, 5254, 5260, 5266, 5272, 5278, 5284, 5290, 5296, 5302, 5308, 5314, 5320, 5326, 5332, 5338, 5344, 5350, 5356, 5362, 5368, 5374, 5380, 5386, 5392, 5398, 5404, 5410, 5416, 5422, 5428, 5434, 5440, 5446, 5452, 5458, 5464, 5470, 5476, 5482, 5488, 5494, 5500, 5506, 5512, 5518, 5524, 5530, 5536, 5542, 5548, 5554, 5560, 5566, 5572, 5578, 5584, 5590, 5596, 5602, 5608, 5614, 5620, 5626, 5632, 5638, 5644, 5650, 5656, 5662, 5668, 5674, 5680, 5686, 5692, 5698, 5704, 5710, 5716, 5722, 5728, 5734, 5740, 5746, 5752, 5758, 5764, 5770, 5776, 5782, 5788, 5794, 5800, 5806, 5812, 5818, 5824, 5830, 5836, 5842, 5848, 5854, 5860, 5866, 5872, 5878, 5884, 5890, 5896, 5902, 5908, 5914, 5920, 5926, 5932, 5938, 5944, 5950, 5956, 5962, 5968, 5974, 5980, 5986, 5992, 5998, 6004, 6010, 6016, 6022, 6028, 6034, 6040, 6046, 6052, 6058, 6064, 6070, 6076, 6082, 6088, 6094, 6100, 6106, 6112, 6118, 6124, 6130, 6136, 6142, 6148, 6154, 6160, 6166, 6172, 6178, 6184, 6190, 6196, 6202, 6208, 6214, 6220, 6226, 6232, 6238, 6244, 6250, 6256, 6262, 6268, 6274, 6280, 6286, 6292, 6298, 6304, 6310, 6316, 6322, 6328, 6334, 6340, 6346, 6352, 6358, 6364, 6370, 6376, 6382, 6388, 6394, 6400, 6406, 6412, 6418, 6424, 6430, 6436, 6442, 6448, 6454, 6460, 6466, 6472, 6478, 6484, 6490, 6496, 6502, 6508, 6514, 6520, 6526, 6532, 6538, 6544, 6550, 6556, 6562, 6568, 6574, 6580, 6586, 6592, 6598, 6604, 6610, 6616, 6622, 6628, 6634, 6640, 6646, 6652, 6658, 6664, 6670, 6676, 6682, 6688, 6694, 6700, 6706, 6712, 6718, 6724, 6730, 6736, 6742, 6748, 6754, 6760, 6766, 6772, 6778, 6784, 6790, 6796, 6802, 6808, 6814, 6820, 6826, 6832, 6838, 6844, 6850, 6856, 6862, 6868, 6874, 6880, 6886, 6892, 6898, 6904, 6910, 6916, 6922, 6928, 6934, 6940, 6946, 6952, 6958, 6964, 6970, 6976, 6982, 6988, 6994, 7000, 7006, 7012, 7018, 7024, 7030, 7036, 7042, 7048, 7054, 7060, 7066, 7072, 7078, 7084, 7090, 7096, 7102, 7108, 7114, 7120, 7126, 7132, 7138, 7144, 7150, 7156, 7162, 7168, 7174, 7180, 7186, 7192, 7198, 7204, 7210, 7216, 7222, 7228, 7234, 7240, 7246, 7252, 7258, 7264, 7270, 7276, 7282, 7288, 7294, 7300, 7306, 7312, 7318, 7324, 7330, 7336, 7342, 7348, 7354, 7360, 7366, 7372, 7378, 7384, 7390, 7396, 7402, 7408, 7414, 7420, 7426, 7432, 7438, 7444, 7450, 7456, 7462, 7468, 7474, 7480, 7486, 7492, 7498, 7504, 7510, 7516, 7522, 7528, 7534, 7540, 7546, 7552, 7558, 7564, 7570, 7576, 7582, 7588, 7594, 7600, 7606, 7612, 7618, 7624, 7630, 7636, 7642, 7648, 7654, 7660, 7666, 7672, 7678, 7684, 7690, 7696, 7702, 7708, 7714, 7720, 7726, 7732, 7738, 7744, 7750, 7756, 7762, 7768, 7774, 7780, 7786, 7792, 7798, 7804, 7810, 7816, 7822, 7828, 7834, 7840, 7846, 7852, 7858, 7864, 7870, 7876, 7882, 7888, 7894, 7900, 7906, 7912, 7918, 7924, 7930, 7936, 7942, 7948, 7954, 7960, 7966, 7972, 7978, 7984, 7990, 7996, 8002, 8008, 8014, 8020, 8026, 8032, 8038, 8044, 8050, 8056, 8062, 8068, 8074, 8080, 8086, 8092, 8098, 8104, 8110, 8116, 8122, 8128, 8134, 8140, 8146, 8152, 8158, 8164, 8170, 8176, 8182, 8188, 8194, 8200, 8206, 8212, 8218, 8224, 8230, 8236, 8242, 8248, 8254, 8260, 8266, 8272, 8278, 8284, 8290, 8296, 8302, 8308, 8314, 8320, 8326, 8332, 8338, 8344, 8350, 8356, 8362, 8368, 8374, 8380, 8386, 8392, 8398, 8404, 8410, 8416, 8422, 8428, 8434, 8440, 8446, 8452, 8458, 8464, 8470, 8476, 8482, 8488, 8494, 8500, 8506, 8512, 8518, 8524, 8530, 8536, 8542, 8548, 8554, 8560, 8566, 8572, 8578, 8584, 8590, 8596, 8602, 8608, 8614, 8620, 8626, 8632, 8638, 8644, 8650, 8656, 8662, 8668, 8674, 8680, 8686, 8692, 8698, 8704, 8710, 8716, 8722, 8728, 8734, 8740, 8746, 8752, 8758, 8764, 8770, 8776, 8782, 8788, 8794, 8800, 8806, 8812, 8818, 8824, 8830, 8836, 8842, 8848, 8854, 8860, 8866, 8872, 8878, 8884, 8890, 8896, 8902, 8908, 8914, 8920, 8926, 8932, 8938, 8944, 8950, 8956, 8962, 8968, 8974, 8980, 8986, 8992, 8998, 9004, 9010, 9016, 9022, 9028, 9034, 9040, 9046, 9052, 9058, 9064, 9070, 9076, 9082, 9088, 9094, 9100, 9106, 9112, 9118, 9124, 9130, 9136, 9142, 9148, 9154, 9160, 9166, 9172, 9178, 9184, 9190, 9196, 9202, 9208, 9214, 9220, 9226, 9232, 9238, 9244, 9250, 9256, 9262, 9268, 9274, 9280, 9286, 9292, 9298, 9304, 9310, 9316, 9322, 9328, 9334, 9340, 9346, 9352, 9358, 9364, 9370, 9376, 9382, 9388, 9394, 9400, 9406, 9412, 9418, 9424, 9430, 9436, 9442, 9448, 9454, 9460, 9466, 9472, 9478, 9484, 9490, 9496, 9502, 9508, 9514, 9520, 9526, 9532, 9538, 9544, 9550, 9556, 9562, 9568, 9574, 9580, 9586, 9592, 9598, 9604, 9610, 9616, 9622, 9628, 9634, 9640, 9646, 9652, 9658, 9664, 9670, 9676, 9682, 9688, 9694, 9700, 9706, 9712, 9718, 9724, 9730, 9736, 9742, 9748, 9754, 9760, 9766, 9772, 9778, 9784, 9790, 9796, 9802, 9808, 9814, 9820, 9826, 9832, 9838, 9844, 9850, 9856, 9862, 9868, 9874, 9880, 9886, 9892, 9898, 9904, 9910, 9916, 9922, 9928, 9934, 9940, 9946, 9952, 9958, 9964, 9970, 9976, 9982, 9988, 9994]

Line #    Mem usage    Increment  Occurrences   Line Contents
=============================================================
    61     19.8 MiB     19.8 MiB           1   @profile
    62                                         def test_2():
    63     19.8 MiB      0.0 MiB           1       tmp = Counter(src)
    64     19.8 MiB      0.0 MiB        3341       print([key for key in tmp if tmp[key] == 1])
    
Во втором примере применен Counter, с ним решение в разы короче и нет необходимости создавать дополнительные объекты
"""